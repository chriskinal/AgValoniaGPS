<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AgValoniaGPS.ViewModels.Dialogs.Guidance;assembly=AgValoniaGPS.ViewModels"
        x:Class="AgValoniaGPS.Desktop.Views.Dialogs.Guidance.FormHeadAche"
        x:DataType="vm:HeadAcheViewModel"
        Title="Headland Management"
        Width="400" Height="400"
        WindowStartupLocation="CenterScreen">

    <Grid RowDefinitions="Auto,*,Auto" Margin="16">
        <TextBlock Grid.Row="0" Text="Headland Management" FontSize="18" FontWeight="Bold" Margin="0,0,0,16"/>

        <StackPanel Grid.Row="1" Spacing="16">
            <!-- Headland Mode -->
            <StackPanel Spacing="4">
                <TextBlock Text="Headland Mode" FontWeight="SemiBold"/>
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <RadioButton Content="Auto" IsChecked="{Binding IsAutoMode}" GroupName="Mode" MinHeight="36"/>
                    <RadioButton Content="Manual" IsChecked="{Binding IsManualMode}" GroupName="Mode" MinHeight="36"/>
                </StackPanel>
            </StackPanel>

            <!-- Current Pass -->
            <StackPanel Spacing="4">
                <TextBlock Text="Current Pass" FontWeight="SemiBold"/>
                <TextBlock Text="{Binding CurrentPassDisplay}" FontSize="16"/>
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Button Content="Previous" Command="{Binding PreviousPassCommand}" MinWidth="100" MinHeight="36"/>
                    <Button Content="Next" Command="{Binding NextPassCommand}" MinWidth="100" MinHeight="36"/>
                </StackPanel>
            </StackPanel>

            <!-- Headland Status -->
            <Border BorderBrush="#CCC" BorderThickness="2" Padding="16" CornerRadius="4">
                <StackPanel Spacing="8">
                    <TextBlock Text="{Binding HeadlandStatusText}"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="{Binding HeadlandStatusColor}"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Distance to Headland" FontSize="12" HorizontalAlignment="Center"/>
                    <TextBlock Text="{Binding DistanceToHeadlandFormatted}"
                               FontSize="20"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <TextBlock Text="{Binding ErrorMessage}" IsVisible="{Binding HasError}" Foreground="Red" TextWrapping="Wrap"/>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="OK" Command="{Binding OKCommand}" MinWidth="80" MinHeight="36"/>
            <Button Content="Cancel" Command="{Binding CancelCommand}" MinWidth="80" MinHeight="36"/>
        </StackPanel>
    </Grid>
</Window>
