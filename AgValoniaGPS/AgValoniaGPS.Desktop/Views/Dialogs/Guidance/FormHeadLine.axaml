<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AgValoniaGPS.ViewModels.Dialogs.Guidance;assembly=AgValoniaGPS.ViewModels"
        x:Class="AgValoniaGPS.Desktop.Views.Dialogs.Guidance.FormHeadLine"
        x:DataType="vm:HeadLineViewModel"
        Title="Headline Creation"
        Width="500" Height="450"
        WindowStartupLocation="CenterScreen">

    <Grid RowDefinitions="Auto,*,Auto" Margin="16">
        <TextBlock Grid.Row="0" Text="Headline Creation" FontSize="18" FontWeight="Bold" Margin="0,0,0,16"/>

        <ScrollViewer Grid.Row="1">
            <StackPanel Spacing="16">
                <!-- Distance from Boundary -->
                <StackPanel Spacing="4">
                    <TextBlock Text="Distance from Field Boundary" FontWeight="SemiBold"/>
                    <NumericUpDown Value="{Binding DistanceFromBoundary}" Minimum="0" Maximum="100" Increment="0.5" MinHeight="36"/>
                    <TextBlock Text="{Binding DistanceFromBoundaryFormatted}" FontSize="12" Foreground="#888"/>
                </StackPanel>

                <!-- Number of Passes -->
                <StackPanel Spacing="4">
                    <TextBlock Text="Number of Headland Passes" FontWeight="SemiBold"/>
                    <NumericUpDown Value="{Binding NumberOfPasses}" Minimum="1" Maximum="10" Increment="1" MinHeight="36"/>
                    <TextBlock Text="{Binding NumberOfPassesDisplay}" FontSize="12" Foreground="#888"/>
                </StackPanel>

                <!-- Implement Width -->
                <StackPanel Spacing="4">
                    <TextBlock Text="Implement Width" FontWeight="SemiBold"/>
                    <NumericUpDown Value="{Binding ImplementWidth}" Minimum="1" Maximum="50" Increment="0.5" MinHeight="36"/>
                    <TextBlock Text="{Binding ImplementWidthFormatted}" FontSize="12" Foreground="#888"/>
                </StackPanel>

                <!-- Action Buttons -->
                <StackPanel Spacing="8">
                    <Button Content="Generate Headland Passes" Command="{Binding GenerateHeadlandCommand}" MinHeight="36" FontSize="14"/>
                    <Button Content="Clear Headland" Command="{Binding ClearHeadlandCommand}" MinHeight="36" FontSize="14"/>
                </StackPanel>

                <!-- Status -->
                <Border BorderBrush="#CCC" BorderThickness="1" Padding="12" CornerRadius="4" Background="#F9F9F9">
                    <TextBlock Text="{Binding HasHeadland, Converter={StaticResource BoolToStringConverter}, ConverterParameter='Headland Generated|No Headland'}"
                               FontSize="14"
                               HorizontalAlignment="Center"/>
                </Border>

                <TextBlock Text="{Binding ErrorMessage}" IsVisible="{Binding HasError}" Foreground="Red" TextWrapping="Wrap"/>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="OK" Command="{Binding OKCommand}" MinWidth="80" MinHeight="36"/>
            <Button Content="Cancel" Command="{Binding CancelCommand}" MinWidth="80" MinHeight="36"/>
        </StackPanel>
    </Grid>
</Window>
