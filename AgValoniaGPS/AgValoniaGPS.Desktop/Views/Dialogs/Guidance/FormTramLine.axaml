<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AgValoniaGPS.ViewModels.Dialogs.Guidance;assembly=AgValoniaGPS.ViewModels"
        x:Class="AgValoniaGPS.Desktop.Views.Dialogs.Guidance.FormTramLine"
        x:DataType="vm:TramLineViewModel"
        Title="Edit Tram Line"
        Width="400" Height="350"
        WindowStartupLocation="CenterScreen">

    <Grid RowDefinitions="Auto,*,Auto" Margin="16">
        <TextBlock Grid.Row="0" Text="{Binding TramLineNumberDisplay}" FontSize="18" FontWeight="Bold" Margin="0,0,0,16"/>

        <StackPanel Grid.Row="1" Spacing="16">
            <!-- Offset Distance -->
            <StackPanel Spacing="4">
                <TextBlock Text="Offset Distance" FontWeight="SemiBold"/>
                <NumericUpDown Value="{Binding OffsetDistance}" Minimum="-1000" Maximum="1000" Increment="0.5"
                               FormatString="F2" MinHeight="36" FontSize="14"/>
                <TextBlock Text="{Binding OffsetDistanceFormatted}" FontSize="12" Foreground="#888"/>
            </StackPanel>

            <!-- Active Status -->
            <CheckBox IsChecked="{Binding IsActive}" Content="{Binding ActiveStatusText}" FontSize="14" MinHeight="36"/>

            <!-- Line Color -->
            <StackPanel Spacing="4">
                <TextBlock Text="Line Color" FontWeight="SemiBold"/>
                <Button Content="Pick Color" Command="{Binding PickColorCommand}" MinHeight="36" FontSize="14"/>
                <Border Width="100" Height="30" Background="{Binding LineColor}" BorderBrush="#000" BorderThickness="1"/>
            </StackPanel>

            <TextBlock Text="{Binding ErrorMessage}" IsVisible="{Binding HasError}" Foreground="Red" TextWrapping="Wrap"/>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="OK" Command="{Binding OKCommand}" MinWidth="80" MinHeight="36"/>
            <Button Content="Cancel" Command="{Binding CancelCommand}" MinWidth="80" MinHeight="36"/>
        </StackPanel>
    </Grid>
</Window>
